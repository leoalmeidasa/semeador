<div class="p-4">
  <h1 class="text-2xl font-bold mb-4">Minhas Transações</h1>

  <div class="mb-4 flex justify-between items-center">
    <p class="text-lg">Saldo: <strong class="text-green-600">R$ <%= number_to_currency(@balance, unit: "") %></strong></p>
    <%= link_to "Nova Transação", new_transaction_path, class: "bg-green-600 text-green px-4 py-2 rounded hover:bg-green-700" %>
  </div>

  <table class="min-w-full bg-white rounded shadow overflow-hidden">
    <thead class="bg-green-100">
    <tr>
      <th class="p-3 text-left">Título</th>
      <th class="p-3 text-left">Categoria</th>
      <th class="p-3 text-left">Tipo</th>
      <th class="p-3 text-left">Valor</th>
      <th class="p-3 text-left">Data</th>
      <th class="p-3 text-left">Ações</th>
    </tr>
    </thead>
    <tbody>
    <% @transactions.each do |t| %>
      <tr class="border-b hover:bg-gray-50">
        <td class="p-3"><%= t.title %></td>
        <td class="p-3"><%= t.category.name %></td>
        <td class="p-3">
            <span class="<%= t.income? ? 'text-green-600' : 'text-red-500' %> font-semibold">
              <%= t.income? ? 'Entrada' : 'Saída' %>
            </span>
        </td>
        <td class="p-3">R$ <%= number_to_currency(t.amount, unit: "") %></td>
        <td class="p-3"><%= t.date.strftime('%d/%m/%Y') %></td>
        <td class="p-3 space-x-2">
          <%= link_to "Editar", edit_transaction_path(t), class: "text-blue-500 hover:underline" %>
          <%= link_to "Remover", transaction_path(t), method: :delete, data: { confirm: "Tem certeza?" }, class: "text-red-500 hover:underline" %>
        </td>
      </tr>
    <% end %>
    </tbody>
  </table>
</div>
